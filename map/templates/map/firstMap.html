{% extends 'abstractbase.html' %}
{% load static %}
{% block css %}{% endblock css %}
{% block pageStyle %}
<link rel="stylesheet" href="{% static 'map/css/map.css' %}"/>
{% endblock pageStyle %}

{% block map %}
<content id="content"></content>
<!-- <svg width="900" height="600"></svg> -->
{% endblock map %}

{% block javascript %}{% endblock javascript %}
{% block pageSpecificJavascript %}
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/topojson.v2.min.js"></script>

<script>
var width = 800, height = 500;

var projection = d3.geoNaturalEarth1()
  .rotate([10,0])
  .center([50, 10]) //long and lat starting position
  .scale(150) //starting zoom position

var svg = d3.select("body").append("svg")
  .attr("width", width)
  .attr("height", height);

var path = d3.geoPath()
  .projection(projection);

var g = svg.append("g");

d3.json('https://unpkg.com/world-atlas@1.1.4/world/110m.json', function(error, topology) {

var world = g.selectAll("path")
				.data(topojson.feature(topology, topology.objects.countries).features)
				.enter()
				.append("path")
				.attr("d", path)
});
</script>
{% endblock pageSpecificJavascript %}
